(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"8r/t":function(e,t,i){"use strict";i.r(t),i.d(t,"ProfileModule",(function(){return St}));var n=i("SVse"),s=i("iInd"),a=i("s7LF"),o=i("Dxy4"),r=i("PDjf"),c=i("pMoy"),l=i("f44v"),d=i("40+f"),b=i("Tj54"),u=i("e6WT"),m=i("SqCe"),h=i("rJgo"),p=i("BTe0"),f=i("zQhy"),g=i("jMqV"),w=i("M9ds"),v=i("u9T3"),_=i("w9WL"),y=i("hrfs"),C=i("pYyI"),W=i("aYsj"),O=i("KJJU"),j=i("nm5K"),k=i("IYfF"),R=i("DTeB"),P=i("8Y7J"),X=i("zHaW"),I=i("EApP"),M=i("Q2Ze"),S=i("ZTz/"),E=i("UhP/");function x(e,t){if(1&e&&(P.Xb(0,"mat-option",24),P.Wc(1),P.Wb()),2&e){const e=t.$implicit;P.uc("value",e.value),P.Cb(1),P.Yc(" ",e.name," ")}}function L(e,t){if(1&e&&(P.Xb(0,"mat-option",24),P.Wc(1),P.Wb()),2&e){const e=t.$implicit;P.uc("value",e.value),P.Cb(1),P.Yc(" ",e.name," ")}}function z(e,t){if(1&e&&(P.Xb(0,"span",25),P.Wc(1),P.Wb()),2&e){const e=P.nc();P.Cb(1),P.Xc(e.msg)}}function D(e,t){if(1&e&&P.Sb(0,"img",26),2&e){const e=P.nc();P.uc("src",e.imgURL,P.Pc)}}let A=(()=>{class e{constructor(e,t,i,n,s,a,o){this.dataservice=e,this.route=t,this.apiservice=i,this.auth=n,this.snack=s,this.activatedRoute=a,this.toast=o,this.uploader=new C.b({url:"upload_url"}),this.hasBaseDropZoneOver=!1,this.admin=new O.a,this.show=!0,this.hide=!0,this.formData=new FormData,this.userPass={},this.genders=[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Other",value:"other"}],this.status=[{name:"Active",value:"active"},{name:"Inactive",value:"inactive"}],this.fileData=null,this.list=[],this.temp=[],this.isLoading=!1,this.data=new O.a,this.user=new O.a,this.user=e.getOption()}ngOnInit(){}resetPassword(e){this.apiservice.adminResetPassword(this.user._id,{oldPassword:e.oldPassword,newPassword:e.newPassword}).subscribe(e=>{this.userResponse=e})}updateProfile(e){this.apiservice.updateAdmin(this.user._id,this.user).subscribe(e=>{!0===e.isSuccess?(this.userResponse=e,this.toast.success("Admin updated successfully"),this.route.navigate(["tables/filter"])):this.toast.error(e.error)})}uploadProfile(e){this.apiservice.uploadUserImage(e).subscribe(e=>{this.data=e})}fileSelect(e){if(console.log("userID",this.admin.id),this.fileData=e.target.files[0],this.formData.append("file",this.fileData),this.formData.append("id",this.admin.id),this.formData.append("imageFor","user"),this.uploadProfile(this.formData),0!==e.target.files.length){var t=new FileReader;this.imagePath=e.target.files,t.readAsDataURL(e.target.files[0]),t.onload=e=>{this.imgURL=t.result},null!=e.target.files[0].type.match(/image\/*/)||(this.msg=" only images are supported")}}back(){this.route.navigate(["tables/filter"])}fileOverBase(e){this.hasBaseDropZoneOver=e}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(R.a),P.Rb(s.j),P.Rb(j.a),P.Rb(k.a),P.Rb(X.a),P.Rb(s.a),P.Rb(I.b))},e.\u0275cmp=P.Lb({type:e,selectors:[["app-admin-profile"]],decls:44,vars:15,consts:[[1,"p-0"],["label","Account Settings"],[1,"mt-1"],[3,"ngSubmit"],[1,"full-width"],["matInput","","name","name","placeholder"," Name",3,"ngModel","ngModelChange"],["matInput","","name","email","placeholder","Email",3,"ngModel","ngModelChange"],["name","sex","placeholder","Gender",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","status","placeholder","Status",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary"],["label","Profile Picture"],[1,"mb-1","mt-1"],["accept","image/*","type","file","name","myfile",3,"change"],["file",""],["style","color:red;",4,"ngIf"],["height","300",3,"src",4,"ngIf"],["mat-raised-button","",1,"mat-primary",3,"disabled","click"],["mat-raised-button","","color","warn",1,"mt-1",2,"align-items","flex-end","margin-left","15px",3,"click"],["label","Reset Password"],["matInput","","name","Old Password","placeholder","Old Password",3,"type","ngModel","ngModelChange"],["matSuffix","",1,"cursor-pointer",3,"click"],["matInput","","name","New Password","placeholder","New Password",3,"type","ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],[2,"color","red"],["height","300",3,"src"]],template:function(e,t){1&e&&(P.Xb(0,"mat-card",0),P.Xb(1,"mat-tab-group"),P.Xb(2,"mat-tab",1),P.Xb(3,"mat-card-content",2),P.Xb(4,"form",3),P.jc("ngSubmit",(function(){return t.updateProfile(t.user)})),P.Xb(5,"mat-form-field",4),P.Xb(6,"input",5),P.jc("ngModelChange",(function(e){return t.user.name=e})),P.Wb(),P.Wb(),P.Xb(7,"mat-form-field",4),P.Xb(8,"input",6),P.jc("ngModelChange",(function(e){return t.user.email=e})),P.Wb(),P.Wb(),P.Xb(9,"mat-form-field",4),P.Xb(10,"mat-select",7),P.jc("ngModelChange",(function(e){return t.user.sex=e})),P.Uc(11,x,2,2,"mat-option",8),P.Wb(),P.Wb(),P.Xb(12,"mat-form-field",4),P.Xb(13,"mat-select",9),P.jc("ngModelChange",(function(e){return t.user.status=e})),P.Uc(14,L,2,2,"mat-option",8),P.Wb(),P.Wb(),P.Xb(15,"button",10),P.Wc(16,"Save"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Xb(17,"mat-tab",11),P.Xb(18,"mat-card-content"),P.Xb(19,"div",12),P.Xb(20,"p"),P.Wc(21,"Upload a profile picture"),P.Wb(),P.Xb(22,"input",13,14),P.jc("change",(function(e){return t.fileSelect(e)})),P.Wb(),P.Wb(),P.Uc(24,z,2,1,"span",15),P.Uc(25,D,1,1,"img",16),P.Sb(26,"br"),P.Xb(27,"button",17),P.jc("click",(function(){return t.uploadProfile(t.data)})),P.Wc(28,"Upload"),P.Wb(),P.Xb(29,"button",18),P.jc("click",(function(){return t.back()})),P.Wc(30,"Back"),P.Wb(),P.Wb(),P.Wb(),P.Xb(31,"mat-tab",19),P.Xb(32,"mat-card-content",2),P.Xb(33,"form"),P.Xb(34,"mat-form-field",4),P.Xb(35,"input",20),P.jc("ngModelChange",(function(e){return t.userPass.oldPassword=e})),P.Wb(),P.Xb(36,"mat-icon",21),P.jc("click",(function(){return t.show=!t.show})),P.Wc(37),P.Wb(),P.Wb(),P.Xb(38,"mat-form-field",4),P.Xb(39,"input",22),P.jc("ngModelChange",(function(e){return t.userPass.newPassword=e})),P.Wb(),P.Xb(40,"mat-icon",21),P.jc("click",(function(){return t.hide=!t.hide})),P.Wc(41),P.Wb(),P.Wb(),P.Xb(42,"button",23),P.jc("click",(function(){return t.resetPassword(t.userPass)})),P.Wc(43,"Update"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb()),2&e&&(P.Cb(6),P.uc("ngModel",t.user.name),P.Cb(2),P.uc("ngModel",t.user.email),P.Cb(2),P.uc("ngModel",t.user.sex),P.Cb(1),P.uc("ngForOf",t.genders),P.Cb(2),P.uc("ngModel",t.user.status),P.Cb(1),P.uc("ngForOf",t.status),P.Cb(10),P.uc("ngIf",t.msg),P.Cb(1),P.uc("ngIf",t.imgURL),P.Cb(2),P.uc("disabled",!t.imgURL),P.Cb(8),P.uc("type",t.show?"password":"text")("ngModel",t.userPass.oldPassword),P.Cb(2),P.Xc(t.show?"visibility_off":"visibility"),P.Cb(2),P.uc("type",t.hide?"password":"text")("ngModel",t.userPass.newPassword),P.Cb(2),P.Xc(t.hide?"visibility_off":"visibility"))},directives:[r.a,w.b,w.a,r.b,a.w,a.o,a.p,M.a,u.b,a.b,a.n,a.q,S.a,n.m,o.a,n.n,b.a,M.d,E.p],styles:[""]}),e})();var N=i("iELJ"),F=i("VDRc"),$=i("BSbQ");function U(e,t){1&e&&P.Sb(0,"img",14)}function B(e,t){if(1&e&&P.Sb(0,"img",15),2&e){const e=P.nc();P.vc("src",e.user.avatar,P.Pc)}}function T(e,t){if(1&e&&(P.Xb(0,"b"),P.Wc(1),P.Wb()),2&e){const e=P.nc();P.Cb(1),P.Xc(e.user.name)}}function H(e,t){if(1&e&&(P.Xb(0,"b"),P.Wc(1),P.Wb()),2&e){const e=P.nc();P.Cb(1),P.Xc(e.user.firstName)}}let V=(()=>{class e{constructor(e,t,i,n,s){this.router=e,this.route=t,this.dataservice=i,this.apiservice=n,this.dialog=s,this.activeView="overview",this.doughnutChartColors=[{backgroundColor:["#fff","rgba(0, 0, 0, .24)"]}],this.total1=500,this.data1=200,this.doughnutChartData1=[this.data1,this.total1-this.data1],this.total2=1e3,this.data2=400,this.doughnutChartData2=[this.data2,this.total2-this.data2],this.doughnutChartType="doughnut",this.doughnutOptions={cutoutPercentage:85,responsive:!0,maintainAspectRatio:!0,legend:{display:!1,position:"bottom"},elements:{arc:{borderWidth:0}},tooltips:{enabled:!1}},this.user=new O.a,this.isLoading=!1,this.user=i.getOption()}resetPasswordLink(e){this.route.navigate(["profile/settings"])}ngOnInit(){this.userId=localStorage.userId,this.activeView=this.router.snapshot.params.view}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(s.a),P.Rb(s.j),P.Rb(R.a),P.Rb(j.a),P.Rb(N.b))},e.\u0275cmp=P.Lb({type:e,selectors:[["app-profile"]],decls:29,vars:6,consts:[["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-md","300px","fxFlex.gt-sm","50"],[1,"profile-sidebar","mb-1","pb-0"],[1,"propic","text-center"],["src","assets/images/no-user.jpg","alt","",4,"ngIf"],["alt","",3,"src",4,"ngIf"],[1,"profile-title","text-center","mb-1"],[1,"subtitle","text-capitalize","mb-05"],[4,"ngIf"],[1,"profile-nav"],[1,"default"],[1,"pt-0"],[1,"mr-1"],["fxFlex","100","fxFlex.gt-sm","50","fxFlex.gt-md","calc(100% - 300px)"],["src","assets/images/no-user.jpg","alt",""],["alt","",3,"src"]],template:function(e,t){1&e&&(P.Xb(0,"div",0),P.Xb(1,"div",1),P.Xb(2,"mat-card",2),P.Xb(3,"div",3),P.Uc(4,U,1,0,"img",4),P.Uc(5,B,1,1,"img",5),P.Wb(),P.Xb(6,"div",6),P.Xb(7,"div",7),P.Uc(8,T,2,1,"b",8),P.Uc(9,H,2,1,"b",8),P.Wb(),P.Wb(),P.Xb(10,"div",9),P.Xb(11,"mat-nav-list"),P.Sb(12,"mat-divider"),P.Wb(),P.Wb(),P.Wb(),P.Xb(13,"mat-card",10),P.Xb(14,"mat-card-title"),P.Wc(15,"Contact Information"),P.Wb(),P.Xb(16,"mat-card-content",11),P.Xb(17,"mat-list"),P.Xb(18,"mat-list-item"),P.Xb(19,"mat-icon",12),P.Wc(20,"email"),P.Wb(),P.Wc(21),P.Wb(),P.Xb(22,"mat-list-item"),P.Xb(23,"mat-icon",12),P.Wc(24,"phone"),P.Wb(),P.Wc(25),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Xb(26,"div",13),P.Sb(27,"router-outlet"),P.Wb(),P.Wb(),P.Sb(28,"div")),2&e&&(P.Cb(4),P.uc("ngIf",!t.user.avatar),P.Cb(1),P.uc("ngIf",t.user.avatar),P.Cb(3),P.uc("ngIf",!t.user.firstName),P.Cb(1),P.uc("ngIf",t.user.firstName),P.Cb(12),P.Yc("",t.user.email," "),P.Cb(4),P.Yc(" ",t.user.phoneNumber," "))},directives:[F.c,F.a,r.a,n.n,m.d,$.a,r.d,r.b,m.a,m.b,b.a,s.o],encapsulation:2}),e})();var K=i("HDdC"),Y=i("EY2u"),q=i("LRne"),J=i("XNiG"),Z=i("xgIS"),G=i("PqYM"),Q=i("Nv8m"),ee=(i("2Vo4"),i("itXk"),i("5yfJ"),i("1uah")),te=(i("VRyK"),i("0Pi8")),ie=i("1G5W"),ne=i("pLZG"),se=i("IzEk"),ae=i("lJxs"),oe=i("JX91"),re=(i("/uUt"),i("eIep")),ce=i("vkgz"),le=i("zp1y"),de=(i("3E0/"),i("5+tZ"),i("zP0r"),i("w1tV"));$localize`:@@ngb.alert.close‚êüf4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8‚êü7819314041543176992:Close`;const be=["*"];$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number‚êüa65b1b49aa7dd8c4f3004da6a8c2241814dae621‚êü783273603869937627: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,$localize`:@@ngb.carousel.previous‚êü680d5c75b7fd8d37961083608b9fcdc4167b4c43‚êü4452427314943113135:Previous`,$localize`:@@ngb.carousel.next‚êüf732c304c7433e5a83ffcd862c3dce709a0f4982‚êü3885497195825665706:Next`,$localize`:@@ngb.datepicker.previous-month‚êüc3b08b07b5ab98e7cdcf18df39355690ab7d3884‚êü8586908745456864217:Previous month`,$localize`:@@ngb.datepicker.previous-month‚êüc3b08b07b5ab98e7cdcf18df39355690ab7d3884‚êü8586908745456864217:Previous month`,$localize`:@@ngb.datepicker.next-month‚êü4bd046985cfe13040d5ef0cd881edce0968a111a‚êü3628374603023447227:Next month`,$localize`:@@ngb.datepicker.next-month‚êü4bd046985cfe13040d5ef0cd881edce0968a111a‚êü3628374603023447227:Next month`,$localize`:@@ngb.datepicker.select-month‚êü1dbc84807f35518112f62e5775d1daebd3d8462b‚êü2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-month‚êü1dbc84807f35518112f62e5775d1daebd3d8462b‚êü2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-year‚êü8ceb09d002bf0c5d1cac171dfbffe1805d2b3962‚êü8852264961585484321:Select year`,$localize`:@@ngb.datepicker.select-year‚êü8ceb09d002bf0c5d1cac171dfbffe1805d2b3962‚êü8852264961585484321:Select year`;const ue=["dialog"];function me(e){return null!=e}function he(e){return(e||document.body).offsetHeight}$localize`:@@ngb.pagination.first‚êü656506dfd46380956a655f919f1498d018f75ca0‚êü6867721956102594380:¬´¬´`,$localize`:@@ngb.pagination.previous‚êü6e52b6ee77a4848d899dd21b591c6fd499e3aef3‚êü6479320895410098858:¬´`,$localize`:@@ngb.pagination.next‚êüba9cbb4ff311464308a3627e4f1c3345d9fe6d7d‚êü5458177150283468089:¬ª`,$localize`:@@ngb.pagination.last‚êü49f27a460bc97e7e00be5b37098bfa79884fc7d9‚êü5277020320267646988:¬ª¬ª`,$localize`:@@ngb.pagination.first-aria‚êüf2f852318759c6396b5d3d17031d53817d7b38cc‚êü2241508602425256033:First`,$localize`:@@ngb.pagination.previous-aria‚êü680d5c75b7fd8d37961083608b9fcdc4167b4c43‚êü4452427314943113135:Previous`,$localize`:@@ngb.pagination.next-aria‚êüf732c304c7433e5a83ffcd862c3dce709a0f4982‚êü3885497195825665706:Next`,$localize`:@@ngb.pagination.last-aria‚êü5c729788ba138508aca1bec050b610f7bf81db3e‚êü4882268002141858767:Last`,$localize`:@@ngb.progressbar.value‚êüf8e9a947b9db4252c0e9905765338712f2fd032f‚êü3720830768741091151:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.HH‚êüce676ab1d6d98f85c836381cf100a4a91ef95a1f‚êü4043638465245303811:HH`,$localize`:@@ngb.timepicker.hours‚êü3bbce5fef7e1151da052a4e529453edb340e3912‚êü8070396816726827304:Hours`,$localize`:@@ngb.timepicker.MM‚êü72c8edf6a50068a05bde70991e36b1e881f4ca54‚êü1647282246509919852:MM`,$localize`:@@ngb.timepicker.minutes‚êü41e62daa962947c0d23ded0981975d1bddf0bf38‚êü5531237363767747080:Minutes`,$localize`:@@ngb.timepicker.increment-hours‚êücb74bc1d625a6c1742f0d7d47306cf495780c218‚êü5939278348542933629:Increment hours`,$localize`:@@ngb.timepicker.decrement-hours‚êü147c7a19429da7d999e247d22e33fee370b1691b‚êü3651829882940481818:Decrement hours`,$localize`:@@ngb.timepicker.increment-minutes‚êüf5a4a3bc05e053f6732475d0e74875ec01c3a348‚êü180147720391025024:Increment minutes`,$localize`:@@ngb.timepicker.decrement-minutes‚êüc1a6899e529c096da5b660385d4e77fe1f7ad271‚êü7447789825403243588:Decrement minutes`,$localize`:@@ngb.timepicker.SS‚êüebe38d36a40a2383c5fefa9b4608ffbda08bd4a3‚êü3628127143071124194:SS`,$localize`:@@ngb.timepicker.seconds‚êü4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c‚êü8874012390997067175:Seconds`,$localize`:@@ngb.timepicker.increment-seconds‚êü912322ecee7d659d04dcf494a70e22e49d334b26‚êü5364772110539092174:Increment seconds`,$localize`:@@ngb.timepicker.decrement-seconds‚êü5db47ac104294243a70eb9124fbea9d0004ddf69‚êü753633511487974857:Decrement seconds`,$localize`:@@ngb.timepicker.PM‚êü8d6e691e10306c1b34c6b26805151aaea320ef7f‚êü3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.AM‚êü69a1f176a93998876952adac57c3bc3863b6105e‚êü4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.toast.close-aria‚êüf4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8‚êü7819314041543176992:Close`,"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const pe={animation:!0,transitionTimerDelayMs:5};let fe=(()=>{class e{constructor(){this.animation=pe.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(P.Nb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const ge=()=>{},{transitionTimerDelayMs:we}=pe,ve=new Map,_e=(e,t,i,n)=>{let s=n.context||{};const a=ve.get(t);if(a)switch(n.runningTransition){case"continue":return Y.a;case"stop":e.run(()=>a.transition$.complete()),s=Object.assign(a.context,s),ve.delete(t)}const o=i(t,n.animation,s)||ge;if(!n.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>o()),Object(q.a)(void 0).pipe(function(e){return t=>new K.a(i=>t.subscribe(t=>e.run(()=>i.next(t)),t=>e.run(()=>i.error(t)),()=>e.run(()=>i.complete())))}(e));const r=new J.a,c=new J.a,l=r.pipe(Object(te.a)(!0));ve.set(t,{transition$:r,complete:()=>{c.next(),c.complete()},context:s});const d=function(e){const{transitionDelay:t,transitionDuration:i}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(i))}(t);return e.runOutsideAngular(()=>{const i=Object(Z.a)(t,"transitionend").pipe(Object(ie.a)(l),Object(ne.a)(({target:e})=>e===t)),n=Object(G.a)(d+we).pipe(Object(ie.a)(l));Object(Q.a)(n,i,c).pipe(Object(ie.a)(l)).subscribe(()=>{ve.delete(t),e.run(()=>{o(),r.next(),r.complete()})})}),r.asObservable()};let ye=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),Ce=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),We=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)}}),e})(),Oe=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),je=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)}}),e})();var ke=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({});const Re=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Pe(e){const t=Array.from(e.querySelectorAll(Re)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}let Xe=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c,a.i]]}),e})(),Ie=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)}}),e})(),Me=(()=>{class e{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return e.\u0275fac=function(t){return new(t||e)(P.fc(fe))},e.\u0275prov=Object(P.Nb)({factory:function(){return new e(Object(P.fc)(fe))},token:e,providedIn:"root"}),e})();class Se{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}const Ee=()=>{};let xe=(()=>{class e{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Ee}_adjustBody(e){const t=this._document.body,i=t.style.paddingRight,n=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=n+e+"px",()=>t.style["padding-right"]=i}_isPresent(e){const t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const i=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),i}}return e.\u0275fac=function(t){return new(t||e)(P.fc(n.d))},e.\u0275prov=Object(P.Nb)({factory:function(){return new e(Object(P.fc)(n.d))},token:e,providedIn:"root"}),e})(),Le=(()=>{class e{constructor(e,t){this._el=e,this._zone=t}ngOnInit(){this._zone.onStable.asObservable().pipe(Object(se.a)(1)).subscribe(()=>{_e(this._zone,this._el.nativeElement,(e,t)=>{t&&he(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return _e(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(P.l),P.Rb(P.A))},e.\u0275cmp=P.Lb({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,t){2&e&&(P.Eb("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),P.Ib("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();class ze{close(e){}dismiss(e){}}class De{constructor(e,t,i,n){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=n,this._closed=new J.a,this._dismissed=new J.a,this._hidden=new J.a,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Object(ie.a)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Object(ie.a)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(q.a)(void 0);e.subscribe(()=>{const{nativeElement:e}=this._windowCmptRef.location;e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:e}=this._backdropCmptRef.location;e.parentNode.removeChild(e),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Object(ee.b)(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ae=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({});let Ne=(()=>{class e{constructor(e,t,i){this._document=e,this._elRef=t,this._zone=i,this._closed$=new J.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new P.o,this.shown=new J.a,this.hidden=new J.a}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,t={animation:this.animation,runningTransition:"stop"},i=_e(this._zone,e,()=>e.classList.remove("show"),t),n=_e(this._zone,this._dialogEl.nativeElement,()=>{},t),s=Object(ee.b)(i,n);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"},t=_e(this._zone,this._elRef.nativeElement,(e,t)=>{t&&he(e),e.classList.add("show")},e),i=_e(this._zone,this._dialogEl.nativeElement,()=>{},e);Object(ee.b)(t,i).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Object(Z.a)(e,"keydown").pipe(Object(ie.a)(this._closed$),Object(ne.a)(e=>e.which===ke.Escape)).subscribe(e=>{this.keyboard?requestAnimationFrame(()=>{e.defaultPrevented||this._zone.run(()=>this.dismiss(Ae.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let t=!1;Object(Z.a)(this._dialogEl.nativeElement,"mousedown").pipe(Object(ie.a)(this._closed$),Object(ce.a)(()=>t=!1),Object(re.a)(()=>Object(Z.a)(e,"mouseup").pipe(Object(ie.a)(this._closed$),Object(se.a)(1))),Object(ne.a)(({target:t})=>e===t)).subscribe(()=>{t=!0}),Object(Z.a)(e,"click").pipe(Object(ie.a)(this._closed$)).subscribe(({target:i})=>{e===i&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||t||this._zone.run(()=>this.dismiss(Ae.BACKDROP_CLICK))),t=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const t=e.querySelector("[ngbAutofocus]"),i=Pe(e)[0];(t||i||e).focus()}}_restoreFocus(){const e=this._document.body,t=this._elWithFocus;let i;i=t&&t.focus&&e.contains(t)?t:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&_e(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(n.d),P.Rb(P.l),P.Rb(P.A))},e.\u0275cmp=P.Lb({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){var i;1&e&&P.Sc(ue,!0),2&e&&P.Ic(i=P.kc())&&(t._dialogEl=i.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,t){2&e&&(P.Db("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),P.Eb("modal d-block"+(t.windowClass?" "+t.windowClass:"")),P.Ib("fade",t.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:be,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(P.tc(),P.Xb(0,"div",0,1),P.Xb(2,"div",2),P.sc(3),P.Wb(),P.Wb()),2&e&&P.Eb("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),e})(),Fe=(()=>{class e{constructor(e,t,i,n,s,a){this._applicationRef=e,this._injector=t,this._document=i,this._scrollBar=n,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new J.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new P.o,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];((e,t,i,n=!1)=>{this._ngZone.runOutsideAngular(()=>{const e=Object(Z.a)(t,"focusin").pipe(Object(ie.a)(i),Object(ae.a)(e=>e.target));Object(Z.a)(t,"keydown").pipe(Object(ie.a)(i),Object(ne.a)(e=>e.which===ke.Tab),Object(le.a)(e)).subscribe(([e,i])=>{const[n,s]=Pe(t);i!==n&&i!==t||!e.shiftKey||(s.focus(),e.preventDefault()),i!==s||e.shiftKey||(n.focus(),e.preventDefault())}),n&&Object(Z.a)(t,"click").pipe(Object(ie.a)(i),Object(le.a)(e),Object(ae.a)(e=>e[1])).subscribe(e=>e.focus())})})(0,e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,i,n){const s=n.container instanceof HTMLElement?n.container:me(n.container)?this._document.querySelector(n.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),r=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!s)throw new Error(`The specified modal container "${n.container||"body"}" was not found in the DOM.`);const c=new ze,l=this._getContentRef(e,n.injector||t,i,c,n);let d=!1!==n.backdrop?this._attachBackdrop(e,s):void 0,b=this._attachWindowComponent(e,s,l),u=new De(b,l,d,n.beforeDismiss);return this._registerModalRef(u),this._registerWindowCmpt(b),u.result.then(o,o),u.result.then(r,r),c.close=e=>{u.close(e)},c.dismiss=e=>{u.dismiss(e)},this._applyWindowOptions(b.instance,n),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),d&&d.instance&&this._applyBackdropOptions(d.instance,n),u}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let i=e.resolveComponentFactory(Le).create(this._injector);return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,t,i){let n=e.resolveComponentFactory(Ne).create(this._injector,i.nodes);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_applyWindowOptions(e,t){this._windowAttributes.forEach(i=>{me(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(i=>{me(t[i])&&(e[i]=t[i])})}_getContentRef(e,t,i,n,s){return i?i instanceof P.N?this._createFromTemplateRef(i,n):"string"==typeof i?this._createFromString(i):this._createFromComponent(e,t,i,n,s):new Se([])}_createFromTemplateRef(e,t){const i=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(i),new Se([i.rootNodes],i)}_createFromString(e){const t=this._document.createTextNode(""+e);return new Se([[t]])}_createFromComponent(e,t,i,n,s){const a=e.resolveComponentFactory(i),o=P.s.create({providers:[{provide:ze,useValue:n}],parent:t}),r=a.create(o),c=r.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(r.hostView),new Se([[c]],r.hostView,r)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&(this._modalRefs.splice(t,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(t){return new(t||e)(P.fc(P.g),P.fc(P.s),P.fc(n.d),P.fc(xe),P.fc(P.H),P.fc(P.A))},e.\u0275prov=Object(P.Nb)({factory:function(){return new e(Object(P.fc)(P.g),Object(P.fc)(P.p),Object(P.fc)(n.d),Object(P.fc)(xe),Object(P.fc)(P.H),Object(P.fc)(P.A))},token:e,providedIn:"root"}),e})(),$e=(()=>{class e{constructor(e,t,i,n){this._moduleCFR=e,this._injector=t,this._modalStack=i,this._config=n}open(e,t={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),t);return this._modalStack.open(this._moduleCFR,this._injector,e,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(t){return new(t||e)(P.fc(P.j),P.fc(P.s),P.fc(Fe),P.fc(Me))},e.\u0275prov=Object(P.Nb)({factory:function(){return new e(Object(P.fc)(P.j),Object(P.fc)(P.p),Object(P.fc)(Fe),Object(P.fc)(Me))},token:e,providedIn:"root"}),e})(),Ue=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},providers:[$e]}),e})(),Be=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),Te=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),He=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),Ve=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),Ke=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),Ye=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),qe=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),Je=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)}}),e})(),Ze=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})();const Ge=[ye,Ce,We,Oe,je,Xe,Ie,Ue,Be,Te,He,Ve,Ke,Ye,qe,Je,Ze];let Qe=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},imports:[Ge,ye,Ce,We,Oe,je,Xe,Ie,Ue,Be,Te,He,Ve,Ke,Ye,qe,Je,Ze]}),e})();var et=i("3kSh"),tt=function(e,t,i,n){return new(i||(i=Promise))((function(s,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function r(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,r)}c((n=n.apply(e,t||[])).next())}))};function it(e,t){if(1&e&&(P.Xb(0,"mat-option",33),P.Wc(1),P.Wb()),2&e){const e=t.$implicit;P.uc("value",e.value),P.Cb(1),P.Yc(" ",e.name," ")}}function nt(e,t){if(1&e&&(P.Xb(0,"mat-option",33),P.Wc(1),P.Wb()),2&e){const e=t.$implicit;P.uc("value",e.value),P.Cb(1),P.Yc(" ",e.name," ")}}function st(e,t){if(1&e&&(P.Xb(0,"span",34),P.Wc(1),P.Wb()),2&e){const e=P.nc();P.Cb(1),P.Xc(e.msg)}}function at(e,t){if(1&e&&P.Sb(0,"img",35),2&e){const e=P.nc();P.uc("src",e.imgURL,P.Pc)}}function ot(e,t){if(1&e&&(P.Xb(0,"span",34),P.Wc(1),P.Wb()),2&e){const e=P.nc();P.Cb(1),P.Xc(e.msg)}}function rt(e,t){if(1&e&&(P.Xb(0,"div",36),P.Sb(1,"img",37),P.Sb(2,"br"),P.Wb()),2&e){const e=t.$implicit;P.Cb(1),P.uc("src",e,P.Pc)}}function ct(e,t){if(1&e){const e=P.Yb();P.Xb(0,"div",38),P.Xb(1,"img",39),P.jc("click",(function(){P.Nc(e);const i=t.$implicit,n=P.nc(),s=P.Jc(67);return n.open(s,i.image)})),P.Wb(),P.Xb(2,"i",40),P.jc("click",(function(){P.Nc(e);const i=t.$implicit,n=P.nc();return n.deleteImage(n.user.id,i._id,i.image)})),P.Wc(3,"delete"),P.Wb(),P.Sb(4,"br"),P.Sb(5,"br"),P.Wb()}if(2&e){const e=t.$implicit;P.Cb(1),P.vc("src",e.image,P.Pc)}}function lt(e,t){if(1&e&&(P.Xb(0,"div"),P.Xb(1,"div",41),P.Sb(2,"img",42),P.Wb(),P.Wb(),P.Xb(3,"div",43),P.Xb(4,"button",44),P.jc("click",(function(){return t.$implicit.close("Save click")})),P.Wc(5,"Ok"),P.Wb(),P.Wb()),2&e){const e=P.nc();P.Cb(2),P.vc("src",e.selectedImg,P.Pc)}}const dt=[{path:"",component:V,children:[{path:"settings/:id",component:(()=>{class e{constructor(e,t,i,n,s,a,o){this.dataservice=e,this.route=t,this.apiservice=i,this.activatedRoute=n,this.toast=s,this.modalService=a,this.confirmService=o,this.uploader=new C.b({url:"upload_url"}),this.hasBaseDropZoneOver=!1,this.user=new O.a,this.show=!0,this.hide=!0,this.formData=new FormData,this.userPass={},this.genders=[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Other",value:"other"}],this.status=[{name:"Active",value:"active"},{name:"Inactive",value:"inactive"}],this.images=null,this.fileData=null,this.isGalleryModal=!1,this.gallery="",this.imgURLS=[],this.list=[],this.temp=[],this.isLoading=!1,this.data=new O.a,this.multiImgSelect=e=>tt(this,void 0,void 0,(function*(){if(this.images=e.target.files,0===e.target.files.length)return;new FileReader;let t=e.target.files;for(let e of t){let t=yield this.handleUpload(e);this.imgURLS.push(t)}})),this.readUploadedFile=e=>{const t=new FileReader;return new Promise((i,n)=>{t.onerror=()=>{t.abort(),console.log("Problem parsing input file.")},t.onload=()=>{i(t.result)},t.readAsDataURL(e)})},this.handleUpload=e=>tt(this,void 0,void 0,(function*(){return yield this.readUploadedFile(e)})),this.activatedRoute.params.subscribe(e=>{let t=e.id;this.apiservice.getCurrentUser(t).subscribe(e=>{console.log("cuurentuser",e),this.user=e}),console.log("id",t)})}ngOnInit(){}resetPassword(e){this.apiservice.resetUserPassword(this.user.id,{oldPassword:e.oldPassword,newPassword:e.newPassword}).subscribe(e=>{this.userResponse=e})}updateUser(e){this.apiservice.updateUser(this.user.id,this.user).subscribe(e=>{!0===e.isSuccess?(this.userResponse=e,this.toast.success("User updated successfully"),this.route.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.route.navigate(["profile/settings",this.user.id])})):this.toast.error(e.error)})}uploadProfile(e){this.apiservice.uploadUserImage(this.formData).subscribe(e=>{this.data=e,!0===e.isSuccess&&(console.log("responses",this.data),this.route.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.route.navigate(["profile/settings",this.user.id])}))})}singleSelect(e){if(console.log("userID",this.user.id),this.fileData=e.target.files[0],this.formData.append("file",this.fileData),this.formData.append("id",this.user.id),this.formData.append("imageFor","user"),0!==e.target.files.length){var t=new FileReader;this.imagePath=e.target.files,t.readAsDataURL(e.target.files[0]),t.onload=e=>{this.imgURL=t.result},null!=e.target.files[0].type.match(/image\/*/)||(this.msg=" only images are supported")}}uploadMultipleImages(){let e=new FormData;console.log("images",this.images);for(let t in this.images)console.log(t),e.append("file",this.images[t]);e.append("id",this.user.id),e.append("imageFor","user"),this.apiservice.uploadMultipleImages(e).subscribe(e=>{this.data=e,!0===e.isSuccess&&(console.log("responses",this.data),this.route.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.route.navigate(["profile/settings",this.user.id])}))})}deleteImage(e,t,i){var n=i.split("/").pop();console.log("name",n),this.confirmService.confirm({message:`Delete ${n}?`}).subscribe(i=>{i&&this.apiservice.removeImage(e,t,n).subscribe(e=>{this.userResponse=e,!0===this.userResponse.isSuccess&&console.log(this.userResponse)})})}open(e,t){this.selectedImg=t,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{this.closeResult="Closed with: "+e},e=>{this.closeResult="Dismissed "+this.getDismissReason(e)})}getDismissReason(e){return e===Ae.ESC?"by pressing ESC":e===Ae.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e}back(){this.route.navigate(["tables/user"])}fileOverBase(e){this.hasBaseDropZoneOver=e}}return e.\u0275fac=function(t){return new(t||e)(P.Rb(R.a),P.Rb(s.j),P.Rb(j.a),P.Rb(s.a),P.Rb(I.b),P.Rb($e),P.Rb(et.a))},e.\u0275cmp=P.Lb({type:e,selectors:[["app-profile-settings"]],decls:68,vars:21,consts:[[1,"p-0"],["label","Account Settings"],[1,"mt-1"],[3,"ngSubmit"],[1,"full-width"],["matInput","","name","firstName","placeholder","First Name",3,"ngModel","ngModelChange"],["matInput","","name","lastName","placeholder","Last Name",3,"ngModel","ngModelChange"],["matInput","","name","email","placeholder","Email",3,"ngModel","ngModelChange"],["name","sex","placeholder","Gender",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","phone","placeholder","Phone number","maxlength","10",3,"ngModel","ngModelChange"],["name","status","placeholder","Status",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary"],["label","Profile Picture"],[1,"mb-1","mt-1"],["accept","image/*","type","file","name","myfile",3,"change"],["file",""],["style","color:red;",4,"ngIf"],["height","300",3,"src",4,"ngIf"],["mat-raised-button","",1,"mat-primary",3,"disabled","click"],["mat-raised-button","","color","warn",1,"mt-1",2,"align-items","flex-end","margin-left","15px",3,"click"],["label","Reset Password"],["matInput","","name","Old Password","placeholder","Old Password",3,"type","ngModel","ngModelChange"],["matSuffix","",1,"cursor-pointer",3,"click"],["matInput","","name","New Password","placeholder","New Password",3,"type","ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],["label","Gallery"],["view",""],["accept","image/*","type","file","name","myfile","multiple","multiple",3,"change"],[1,"row"],["class","column",4,"ngFor","ngForOf"],["class","column view",4,"ngFor","ngForOf"],["mymodal",""],[3,"value"],[2,"color","red"],["height","300",3,"src"],[1,"column"],[1,"multiimages",3,"src"],[1,"column","view"],["loading","lazy",1,"multiimage",3,"src","click"],[1,"material-icons","imgDel",3,"click"],[1,"modal-body"],[1,"selectedImg",3,"src"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(P.Xb(0,"mat-card",0),P.Xb(1,"mat-tab-group"),P.Xb(2,"mat-tab",1),P.Xb(3,"mat-card-content",2),P.Xb(4,"form",3),P.jc("ngSubmit",(function(){return t.updateUser(t.user)})),P.Xb(5,"mat-form-field",4),P.Xb(6,"input",5),P.jc("ngModelChange",(function(e){return t.user.firstName=e})),P.Wb(),P.Wb(),P.Xb(7,"mat-form-field",4),P.Xb(8,"input",6),P.jc("ngModelChange",(function(e){return t.user.lastName=e})),P.Wb(),P.Wb(),P.Xb(9,"mat-form-field",4),P.Xb(10,"input",7),P.jc("ngModelChange",(function(e){return t.user.email=e})),P.Wb(),P.Wb(),P.Xb(11,"mat-form-field",4),P.Xb(12,"mat-select",8),P.jc("ngModelChange",(function(e){return t.user.sex=e})),P.Uc(13,it,2,2,"mat-option",9),P.Wb(),P.Wb(),P.Xb(14,"mat-form-field",4),P.Xb(15,"input",10),P.jc("ngModelChange",(function(e){return t.user.phoneNumber=e})),P.Wb(),P.Wb(),P.Xb(16,"mat-form-field",4),P.Xb(17,"mat-select",11),P.jc("ngModelChange",(function(e){return t.user.status=e})),P.Uc(18,nt,2,2,"mat-option",9),P.Wb(),P.Wb(),P.Xb(19,"button",12),P.Wc(20,"Save"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Xb(21,"mat-tab",13),P.Xb(22,"mat-card-content"),P.Xb(23,"div",14),P.Xb(24,"p"),P.Wc(25,"Upload a profile picture"),P.Wb(),P.Xb(26,"input",15,16),P.jc("change",(function(e){return t.singleSelect(e)})),P.Wb(),P.Wb(),P.Uc(28,st,2,1,"span",17),P.Uc(29,at,1,1,"img",18),P.Sb(30,"br"),P.Xb(31,"button",19),P.jc("click",(function(){return t.uploadProfile(t.data)})),P.Wc(32,"Upload"),P.Wb(),P.Xb(33,"button",20),P.jc("click",(function(){return t.back()})),P.Wc(34,"Back"),P.Wb(),P.Wb(),P.Wb(),P.Xb(35,"mat-tab",21),P.Xb(36,"mat-card-content",2),P.Xb(37,"form"),P.Xb(38,"mat-form-field",4),P.Xb(39,"input",22),P.jc("ngModelChange",(function(e){return t.userPass.oldPassword=e})),P.Wb(),P.Xb(40,"mat-icon",23),P.jc("click",(function(){return t.show=!t.show})),P.Wc(41),P.Wb(),P.Wb(),P.Xb(42,"mat-form-field",4),P.Xb(43,"input",24),P.jc("ngModelChange",(function(e){return t.userPass.newPassword=e})),P.Wb(),P.Xb(44,"mat-icon",23),P.jc("click",(function(){return t.hide=!t.hide})),P.Wc(45),P.Wb(),P.Wb(),P.Xb(46,"button",25),P.jc("click",(function(){return t.resetPassword(t.userPass)})),P.Wc(47,"Update"),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Xb(48,"mat-tab",26,27),P.Xb(50,"mat-card-content"),P.Xb(51,"div",14),P.Xb(52,"p"),P.Wc(53,"Upload Images "),P.Wb(),P.Xb(54,"input",28,16),P.jc("change",(function(e){return t.multiImgSelect(e)})),P.Wb(),P.Wb(),P.Uc(56,ot,2,1,"span",17),P.Xb(57,"div",29),P.Uc(58,rt,3,1,"div",30),P.Wb(),P.Xb(59,"button",19),P.jc("click",(function(){return t.uploadMultipleImages()})),P.Wc(60,"Upload"),P.Wb(),P.Xb(61,"button",20),P.jc("click",(function(){return t.back()})),P.Wc(62,"Back"),P.Wb(),P.Wb(),P.Xb(63,"mat-card-content"),P.Xb(64,"div",29),P.Uc(65,ct,6,1,"div",31),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Wb(),P.Uc(66,lt,6,1,"ng-template",null,32,P.Vc)),2&e&&(P.Cb(6),P.uc("ngModel",t.user.firstName),P.Cb(2),P.uc("ngModel",t.user.lastName),P.Cb(2),P.uc("ngModel",t.user.email),P.Cb(2),P.uc("ngModel",t.user.sex),P.Cb(1),P.uc("ngForOf",t.genders),P.Cb(2),P.uc("ngModel",t.user.phoneNumber),P.Cb(2),P.uc("ngModel",t.user.status),P.Cb(1),P.uc("ngForOf",t.status),P.Cb(10),P.uc("ngIf",t.msg),P.Cb(1),P.uc("ngIf",t.imgURL),P.Cb(2),P.uc("disabled",!t.imgURL),P.Cb(8),P.uc("type",t.show?"password":"text")("ngModel",t.userPass.oldPassword),P.Cb(2),P.Xc(t.show?"visibility_off":"visibility"),P.Cb(2),P.uc("type",t.hide?"password":"text")("ngModel",t.userPass.newPassword),P.Cb(2),P.Xc(t.hide?"visibility_off":"visibility"),P.Cb(11),P.uc("ngIf",t.msg),P.Cb(2),P.uc("ngForOf",t.imgURLS),P.Cb(1),P.uc("disabled",!t.imgURLS),P.Cb(6),P.uc("ngForOf",t.user.gallery))},directives:[r.a,w.b,w.a,r.b,a.w,a.o,a.p,M.a,u.b,a.b,a.n,a.q,S.a,n.m,a.j,o.a,n.n,b.a,M.d,E.p],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.multiimages[_ngcontent-%COMP%]{width:100px;height:100px;display:table;padding:5px}.multiimage[_ngcontent-%COMP%]{width:180px;height:150px;display:table;padding:8px}.selectedImg[_ngcontent-%COMP%]{width:100%}.imgDel[_ngcontent-%COMP%]{cursor:pointer}.modal-body[_ngcontent-%COMP%]{height:100%;width:100%}.view[_ngcontent-%COMP%]{margin:20px;border:1px solid grey;padding:16px}"]}),e})(),data:{title:"Settings",breadcrumb:"SETTINGS"}},{path:"admin/:id",component:A,data:{title:"Admin",breadcrumb:"Admin"}}]}];i("jtHE"),i("JIr8");var bt=i("1Ykd");function ut(e){return Boolean(e.parentElement&&"picture"===e.parentElement.nodeName.toLowerCase())}function mt(e){return"img"===e.nodeName.toLowerCase()}function ht(e,t,i){return mt(e)?i&&"srcset"in e?e.srcset=t:e.src=t:e.style.backgroundImage=`url('${t}')`,e}function pt(e){return t=>{const i=t.parentElement.getElementsByTagName("source");for(let n=0;n<i.length;n++){const t=i[n].getAttribute(e);t&&("srcset"in i[n]?i[n].srcset=t:i[n].src=t)}}}const ft=pt("defaultImage"),gt=pt("lazyLoad"),wt=pt("errorImage");function vt(e){return(t,i,n)=>{mt(t)&&ut(t)&&e(t),i&&ht(t,i,n)}}const _t=vt(ft),yt=vt(gt),Ct=vt(wt);function Wt(e,t){e.className=e.className.replace(t,"")}function Ot(e,t){e.className.includes(t)||(e.className+=" "+t)}class jt extends class{constructor(){this.navigator="undefined"!=typeof window?window.navigator:void 0}setPlatformId(e){this.platformId=e}onDestroy(e){}onAttributeChange(e){}}{setup(e){var t;_t(e.element,e.defaultImagePath,e.useSrcset),Ot(e.element,"ng-lazyloading"),(t=e.element).className&&t.className.includes("ng-lazyloaded")&&Wt(e.element,"ng-lazyloaded")}finally(e){Ot(e.element,"ng-lazyloaded"),Wt(e.element,"ng-lazyloading")}loadImage(e){if(this.skipLazyLoading(e))return[e.imagePath];const{element:t,useSrcset:i,imagePath:n,decode:s}=e;let a;if(mt(t)&&ut(t)){const e=t.parentNode.cloneNode(!0);a=e.getElementsByTagName("img")[0],gt(a),ht(a,n,i)}else a=new Image,mt(t)&&t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),mt(t)&&t.sizes&&(a.sizes=t.sizes),i&&"srcset"in a?a.srcset=n:a.src=n;return s&&a.decode?a.decode().then(()=>n):new Promise((e,t)=>{a.onload=()=>e(n),a.onerror=()=>t(null)})}setErrorImage(e,t){const{element:i,useSrcset:n,errorImagePath:s}=t;Ct(i,s,n),Ot(i,"ng-failed-lazyloaded")}setLoadedImage(e,t){const{element:i,useSrcset:n}=t;yt(i,e,n)}isDisabled(){return Object(n.E)(this.platformId)&&!this.isBot()}skipLazyLoading(e){return this.isBot(e)}isBot(e){var t;return!!(null===(t=this.navigator)||void 0===t?void 0:t.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot/i.test(this.navigator.userAgent)}}let kt=(()=>{class e extends jt{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new J.a,this.uniqKey={}}getObservable(e){if(this.skipLazyLoading(e))return Object(q.a)({isIntersecting:!0});if(e.customObservable)return e.customObservable;const t=e.scrollContainer||this.uniqKey,i={root:e.scrollContainer||null};e.offset&&(i.rootMargin=e.offset+"px");let n=this.observers.get(t);return n||(n=new IntersectionObserver(e=>this.loadingCallback(e),i),this.observers.set(t,n)),n.observe(e.element),K.a.create(t=>{const i=this.intersectionSubject.pipe(Object(ne.a)(t=>t.target===e.element)).subscribe(t);return()=>{i.unsubscribe(),n.unobserve(e.element)}})}isVisible(e){return e.isIntersecting}loadingCallback(e){e.forEach(e=>this.intersectionSubject.next(e))}}return e.\u0275fac=function(t){return Rt(t||e)},e.\u0275prov=P.Nb({token:e,factory:e.\u0275fac}),e})();const Rt=P.Zb(kt),Pt=new P.r("LazyLoadImageHooks");let Xt=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},providers:[{provide:Pt,useClass:kt}]}),e})(),It=(()=>{class e{constructor(e,t,i,n){this.left=e,this.top=t,this.right=i,this.bottom=n}static fromElement(t){const{left:i,top:n,right:s,bottom:a}=t.getBoundingClientRect();return 0===i&&0===n&&0===s&&0===a?e.empty:new e(i,n,s,a)}static fromWindow(t){return new e(0,0,t.innerWidth,t.innerHeight)}inflate(e){this.left-=e,this.top-=e,this.right+=e,this.bottom+=e}intersectsWith(e){return e.left<this.right&&this.left<e.right&&e.top<this.bottom&&this.top<e.bottom}getIntersectionWith(t){const i=Math.max(this.left,t.left),n=Math.max(this.top,t.top),s=Math.min(this.right,t.right),a=Math.min(this.bottom,t.bottom);return s>=i&&a>=n?new e(i,n,s,a):e.empty}}return e.empty=new e(0,0,0,0),e})();class Mt extends jt{constructor(){super(...arguments),this.getWindow=()=>window,this.scrollListeners=new WeakMap,this.getScrollListener=e=>{if(!e||"function"!=typeof e.addEventListener)return console.warn("`addEventListener` on "+e+" (scrollTarget) is not a function. Skipping this target"),Object(Y.b)();const t=this.scrollListeners.get(e);if(t)return t;const i=K.a.create(t=>{const i=e=>t.next(e),n={passive:!0,capture:!1};return e.addEventListener("scroll",i,n),()=>e.removeEventListener("scroll",i,n)}),n=this.sampleObservable(i);return this.scrollListeners.set(e,n),n}}getObservable(e){return this.skipLazyLoading(e)?Object(q.a)("load"):e.customObservable?e.customObservable.pipe(Object(oe.a)("")):this.getScrollListener(e.scrollContainer?e.scrollContainer:this.getWindow())}isVisible(e,t){const i=It.fromElement(t.element);if(i===It.empty)return!1;const n=It.fromWindow(this.getWindow());if(i.inflate(t.offset),t.scrollContainer){const e=It.fromElement(t.scrollContainer).getIntersectionWith(n);return i.intersectsWith(e)}return i.intersectsWith(n)}sampleObservable(e,t){return e.pipe(Object(bt.a)(100,t),Object(de.a)(),Object(oe.a)(""))}}let St=(()=>{class e{}return e.\u0275mod=P.Pb({type:e}),e.\u0275inj=P.Ob({factory:function(t){return new(t||e)},providers:[{provide:Pt,useClass:Mt}],imports:[[n.c,a.i,m.c,b.b,o.b,r.c,h.b,g.a,d.a,l.b,c.a,S.b,f.a,w.c,u.c,p.b,v.a,_.d,y.a,C.a,Xt,W.a,Qe,N.e,s.n.forChild(dt)]]}),e})()}}]);